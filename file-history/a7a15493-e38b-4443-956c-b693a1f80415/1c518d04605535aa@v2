# Folder `components/`

Folder zawierający współdzielone komponenty UI oraz komponenty z CMS (Strapi). Komponenty są podzielone na kategorie i służą do budowania interfejsu użytkownika.

## Struktura

### `ui/` - Shadcn/ui Components
Komponenty UI bazujące na Radix UI + Tailwind CSS (biblioteka shadcn/ui).

#### Formularze i Input
- **`button.tsx`** - Przycisk z wariantami (default, destructive, outline, secondary, ghost, link)
- **`input.tsx`** - Input tekstowy
- **`textarea.tsx`** - Pole wieloliniowe
- **`checkbox.tsx`** - Checkbox
- **`select.tsx`** - Dropdown select
- **`form.tsx`** - Wrapper formularza (react-hook-form)
- **`label.tsx`** - Label dla inputów

#### Layout & Display
- **`card.tsx`** - Karta z header/content/footer
- **`table.tsx`** - Tabela
- **`separator.tsx`** - Separator (linia pozioma/pionowa)
- **`sheet.tsx`** - Sidebar/drawer (wysuwany panel)
- **`skeleton.tsx`** - Loading skeleton
- **`carousel.tsx`** - Karuzela obrazów

#### Dialogi i Overlays
- **`dialog.tsx`** - Modal dialog
- **`alert-dialog.tsx`** - Alert/Confirmation dialog
- **`hover-card.tsx`** - Popover przy hover
- **`alert.tsx`** - Alert message (info/warning/error)

#### Nawigacja
- **`accordion.tsx`** - Rozwijane sekcje

**Każdy komponent UI ma:**
- Plik `.tsx` z implementacją
- Plik `.stories.tsx` ze Storybook stories

### `controls/` - CMS Controls
Komponenty wykorzystywane w treściach z CMS (Strapi). Służą do renderowania dynamicznych treści.

- **`button.tsx`** + `button-type.ts` - Przycisk z CMS (z ikoną)
- **`image.tsx`** + `image-type.ts` - Obrazek z CMS
- **`text.tsx`** + `text-type.ts` - Tekst z CMS
- **`rich-text.tsx`** + `rich-text-type.tsx` - Rich text editor content
- **`rich-text-repo.tsx`** - Renderer dla rich text
- **`section.tsx`** + `section-type.ts` - Sekcja layoutu
- **`decimal-number.tsx`** + `decimal-number-type.ts` - Formatowana liczba
- **`style.tsx`** - Style utilities

### Komponenty złożone (CMS-based)

#### Content Cards
- **`article-card.tsx`** + `article-card-type.ts` - Karta artykułu (thumbnail, tytuł, opis)
- **`article-details.tsx`** + `article-details-type.ts` - Szczegóły artykułu
- **`product-card.tsx`** + `product-card-type.ts` - Karta produktu (obraz, cena, opis)
- **`image-card.tsx`** + `image-card-type.ts` - Karta z obrazkiem

#### Image Components
- **`image-text.tsx`** - Obraz z tekstem
- **`image-richtext.tsx`** + `image-richtext-type.ts` - Obraz z rich text
- **`image-with-button.tsx`** - Obraz z przyciskiem CTA
- **`image-carousel.tsx`** + `image-carousel-type.ts` - Karuzela obrazów

#### Rich Text
- **`rich-text.tsx`** - Renderer rich text z CMS

## Technologie

- **React 18+**
- **TypeScript**
- **Tailwind CSS** - Stylowanie
- **Radix UI** - Accessibility primitives (dla ui/)
- **class-variance-authority (CVA)** - Varianty komponentów
- **Storybook** - Dokumentacja komponentów (`.stories.tsx`)

## Konwencje

### Nazewnictwa
- Komponenty: `PascalCase` (np. `ButtonControl`)
- Pliki: `kebab-case.tsx` (np. `button-control.tsx`)
- Types: `*-type.ts` (np. `button-type.ts`)

### Utility Functions
Komponenty używają funkcji `cn()` z `@/lib/utils`:
```typescript
import { cn } from "@/lib/utils"

<Button className={cn("gap-2", className)} />
```

### Props Pattern
Komponenty CMS używają dedykowanych typów:
```typescript
// button-type.ts
export type ButtonControlProps = {
  variant: string
  size: string
  text: string
  icon?: ImageControlProps
}

// button.tsx
export function ButtonControl({ variant, size, text, icon }: ButtonControlProps) {
  // ...
}
```

## Storybook

Każdy komponent w `ui/` i większość w `controls/` ma plik `.stories.tsx` z przykładami użycia w Storybook.

**Przykładowe stories:**
- `button.stories.tsx`
- `card.stories.tsx`
- `carousel.stories.tsx`
- `image-carousel.stories.tsx`

## Użycie

### UI Components (shadcn/ui)
```typescript
import { Button } from "@/components/ui/button"
import { Card, CardHeader, CardContent } from "@/components/ui/card"

<Button variant="default">Click me</Button>
<Card>
  <CardHeader>Title</CardHeader>
  <CardContent>Content</CardContent>
</Card>
```

### CMS Controls
```typescript
import { ButtonControl } from "@/components/controls/button"
import ImageControl from "@/components/controls/image"

<ButtonControl
  variant="default"
  text="CTA Button"
  icon={{ src: "/icon.png", alt: "Icon" }}
/>
```

## Różnica: `ui/` vs `controls/`

| Aspekt | `ui/` | `controls/` |
|--------|-------|-------------|
| **Źródło** | shadcn/ui (design system) | Custom (dla CMS) |
| **Przeznaczenie** | Bazowe komponenty UI | Renderowanie treści z CMS |
| **Stylowanie** | CVA + Tailwind | Tailwind + custom logic |
| **Data source** | Props (hardcoded/state) | CMS (Strapi) |
| **Przykład** | Button, Input, Card | ButtonControl z ikoną z CMS |

## Uwagi

- Komponenty `ui/` są generowane przez CLI shadcn/ui
- Komponenty `controls/` są custom i ściśle związane ze schematem Strapi CMS
- Wszystkie komponenty są fully typed (TypeScript)
- Komponenty używają React Server Components (gdzie możliwe)
