//  Copyright Â© 2025 Scandit. All rights reserved.

@testable import DigitalShelf
import UIKit

final class MappingModeModulePreviewUseCaseSpy: AnyMappingModeModulePreviewUseCase {

    // MARK: - Properties

    var invokedLoadModulePreviewCount = 0
    var invokedLoadModulePreviewParameters: Int?
    var invokedLoadModulePreviewParametersList = [Int]()
    var stubbedLoadModulePreviewResult: Refreshable<UIImage> = .idle

    // MARK: - Methods

    func loadModulePreview(moduleId: Int) async -> Refreshable<UIImage> {
        invokedLoadModulePreviewCount += 1
        invokedLoadModulePreviewParameters = moduleId
        invokedLoadModulePreviewParametersList.append(moduleId)

        return stubbedLoadModulePreviewResult
    }

    // MARK: - Helper Methods

    func reset() {
        invokedLoadModulePreviewCount = 0
        invokedLoadModulePreviewParameters = nil
        invokedLoadModulePreviewParametersList.removeAll()
        stubbedLoadModulePreviewResult = .idle
    }
}
